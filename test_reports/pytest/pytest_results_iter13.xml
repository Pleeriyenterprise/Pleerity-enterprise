<?xml version="1.0" encoding="utf-8"?><testsuites name="pytest tests"><testsuite name="pytest" errors="0" failures="1" skipped="0" tests="35" time="8.876" timestamp="2026-01-20T18:33:57.921876+00:00" hostname="agent-env-e6381c42-ced1-457d-a07c-446872830f06"><testcase classname="tests.test_e2e_deployment_readiness.TestHealthAndBasicEndpoints" name="test_health_endpoint" time="0.090" /><testcase classname="tests.test_e2e_deployment_readiness.TestHealthAndBasicEndpoints" name="test_root_api_endpoint" time="0.038" /><testcase classname="tests.test_e2e_deployment_readiness.TestAdminAuthentication" name="test_admin_login_success" time="0.282" /><testcase classname="tests.test_e2e_deployment_readiness.TestAdminAuthentication" name="test_admin_login_invalid_credentials" time="0.265" /><testcase classname="tests.test_e2e_deployment_readiness.TestAdminAuthentication" name="test_admin_login_non_admin_user" time="0.034" /><testcase classname="tests.test_e2e_deployment_readiness.TestClientAuthentication" name="test_client_login_success" time="0.303" /><testcase classname="tests.test_e2e_deployment_readiness.TestClientAuthentication" name="test_client_login_invalid_credentials" time="0.258" /><testcase classname="tests.test_e2e_deployment_readiness.TestAdminDashboard" name="test_admin_dashboard_endpoint" time="0.301" /><testcase classname="tests.test_e2e_deployment_readiness.TestAdminDashboard" name="test_admin_statistics_endpoint" time="0.313" /><testcase classname="tests.test_e2e_deployment_readiness.TestAdminDashboard" name="test_admin_clients_list" time="0.301" /><testcase classname="tests.test_e2e_deployment_readiness.TestAdminDashboard" name="test_admin_audit_logs" time="0.352" /><testcase classname="tests.test_e2e_deployment_readiness.TestAdminDashboard" name="test_admin_admins_list" time="0.340" /><testcase classname="tests.test_e2e_deployment_readiness.TestAdminDashboard" name="test_admin_jobs_status" time="0.298" /><testcase classname="tests.test_e2e_deployment_readiness.TestRBACAdminEndpoints" name="test_admin_dashboard_rejects_client_token" time="0.300" /><testcase classname="tests.test_e2e_deployment_readiness.TestRBACAdminEndpoints" name="test_admin_clients_rejects_client_token" time="0.302" /><testcase classname="tests.test_e2e_deployment_readiness.TestRBACAdminEndpoints" name="test_admin_audit_logs_rejects_client_token" time="0.313" /><testcase classname="tests.test_e2e_deployment_readiness.TestClientDashboard" name="test_client_dashboard_endpoint" time="0.303" /><testcase classname="tests.test_e2e_deployment_readiness.TestClientDashboard" name="test_client_properties_endpoint" time="0.310" /><testcase classname="tests.test_e2e_deployment_readiness.TestClientDashboard" name="test_client_requirements_endpoint" time="0.300" /><testcase classname="tests.test_e2e_deployment_readiness.TestIntakeWizardAPI" name="test_get_plans" time="0.050" /><testcase classname="tests.test_e2e_deployment_readiness.TestIntakeWizardAPI" name="test_get_councils" time="0.042" /><testcase classname="tests.test_e2e_deployment_readiness.TestIntakeWizardAPI" name="test_search_councils" time="0.033" /><testcase classname="tests.test_e2e_deployment_readiness.TestIntakeWizardAPI" name="test_intake_submit_validation" time="0.030" /><testcase classname="tests.test_e2e_deployment_readiness.TestWebhooksAPI" name="test_get_webhook_events" time="0.297" /><testcase classname="tests.test_e2e_deployment_readiness.TestWebhooksAPI" name="test_list_webhooks" time="0.297" /><testcase classname="tests.test_e2e_deployment_readiness.TestWebhooksAPI" name="test_get_webhook_stats" time="0.294" /><testcase classname="tests.test_e2e_deployment_readiness.TestReportsAPI" name="test_get_available_reports" time="0.327" /><testcase classname="tests.test_e2e_deployment_readiness.TestReportsAPI" name="test_get_scheduled_reports" time="0.298" /><testcase classname="tests.test_e2e_deployment_readiness.TestNotificationPreferences" name="test_get_notification_preferences" time="0.300" /><testcase classname="tests.test_e2e_deployment_readiness.TestCalendarAPI" name="test_get_calendar_events" time="0.297"><failure message="AssertionError: assert ('events' in {'end_date': '2027-01-01T00:00:00+00:00', 'events_by_date': {'2026-02-18': [{'description': 'Electrical Installation Condition Report', 'due_date': '2026-02-18', 'property_address': '123 Test Street', 'property_city': 'London', ...}, {'description': 'Energy Performance Certificate', 'due_date': '2026-02-18', 'property_address': '123 Test Street', 'property_city': 'London', ...}, {'description': 'Fire Alarm Inspection', 'due_date': '2026-02-18', 'property_address': '123 Test Street', 'property_city': 'London', ...}, {'description': 'Legionella Risk Assessment', 'due_date': '2026-02-18', 'property_address': '123 Test Street', 'property_city': 'London', ...}, {'description': 'Gas Safety Certificate', 'due_date': '2026-02-18', 'property_address': 'TEST_123 Enhanced Test Street', 'property_city': 'London', ...}, {'description': 'Fire Alarm Inspection', 'due_date': '2026-02-18', 'property_address': 'TEST_123 Enhanced Test Street', 'property_city': 'London', ...}, ...], '2026-02-19': [{'description': 'Gas Safety Certificate', 'due_date': '2026-02-19', 'property_address': '998 Import Test Ave', 'property_city': 'Manchester', ...}, {'description': 'Fire Alarm Inspection', 'due_date': '202...ment', 'due_date': '2026-03-20', 'property_address': 'TEST_123 Enhanced Test Street', 'property_city': 'London', ...}], '2026-03-21': [{'description': 'Electrical Installation Condition Report', 'due_date': '2026-03-21', 'property_address': '998 Import Test Ave', 'property_city': 'Manchester', ...}, {'description': 'Legionella Risk Assessment', 'due_date': '2026-03-21', 'property_address': '998 Import Test Ave', 'property_city': 'Manchester', ...}, {'description': 'Electrical Installation Condition Report', 'due_date': '2026-03-21', 'property_address': 'TEST_fe4fa6ef Single Import Street', 'property_city': 'London', ...}, {'description': 'Legionella Risk Assessment', 'due_date': '2026-03-21', 'property_address': 'TEST_fe4fa6ef Single Import Street', 'property_city': 'London', ...}, {'description': 'Electrical Installation Condition Report', 'due_date': '2026-03-21', 'property_address': 'TEST_0d503393 First Street', 'property_city': 'Manchester', ...}, {'description': 'Legionella Risk Assessment', 'due_date': '2026-03-21', 'property_address': 'TEST_0d503393 First Street', 'property_city': 'Manchester', ...}, ...], ...}, 'month': None, 'start_date': '2026-01-01T00:00:00+00:00', ...} or 'expiries' in {'end_date': '2027-01-01T00:00:00+00:00', 'events_by_date': {'2026-02-18': [{'description': 'Electrical Installation Condition Report', 'due_date': '2026-02-18', 'property_address': '123 Test Street', 'property_city': 'London', ...}, {'description': 'Energy Performance Certificate', 'due_date': '2026-02-18', 'property_address': '123 Test Street', 'property_city': 'London', ...}, {'description': 'Fire Alarm Inspection', 'due_date': '2026-02-18', 'property_address': '123 Test Street', 'property_city': 'London', ...}, {'description': 'Legionella Risk Assessment', 'due_date': '2026-02-18', 'property_address': '123 Test Street', 'property_city': 'London', ...}, {'description': 'Gas Safety Certificate', 'due_date': '2026-02-18', 'property_address': 'TEST_123 Enhanced Test Street', 'property_city': 'London', ...}, {'description': 'Fire Alarm Inspection', 'due_date': '2026-02-18', 'property_address': 'TEST_123 Enhanced Test Street', 'property_city': 'London', ...}, ...], '2026-02-19': [{'description': 'Gas Safety Certificate', 'due_date': '2026-02-19', 'property_address': '998 Import Test Ave', 'property_city': 'Manchester', ...}, {'description': 'Fire Alarm Inspection', 'due_date': '202...ment', 'due_date': '2026-03-20', 'property_address': 'TEST_123 Enhanced Test Street', 'property_city': 'London', ...}], '2026-03-21': [{'description': 'Electrical Installation Condition Report', 'due_date': '2026-03-21', 'property_address': '998 Import Test Ave', 'property_city': 'Manchester', ...}, {'description': 'Legionella Risk Assessment', 'due_date': '2026-03-21', 'property_address': '998 Import Test Ave', 'property_city': 'Manchester', ...}, {'description': 'Electrical Installation Condition Report', 'due_date': '2026-03-21', 'property_address': 'TEST_fe4fa6ef Single Import Street', 'property_city': 'London', ...}, {'description': 'Legionella Risk Assessment', 'due_date': '2026-03-21', 'property_address': 'TEST_fe4fa6ef Single Import Street', 'property_city': 'London', ...}, {'description': 'Electrical Installation Condition Report', 'due_date': '2026-03-21', 'property_address': 'TEST_0d503393 First Street', 'property_city': 'Manchester', ...}, {'description': 'Legionella Risk Assessment', 'due_date': '2026-03-21', 'property_address': 'TEST_0d503393 First Street', 'property_city': 'Manchester', ...}, ...], ...}, 'month': None, 'start_date': '2026-01-01T00:00:00+00:00', ...} or 'calendar' in {'end_date': '2027-01-01T00:00:00+00:00', 'events_by_date': {'2026-02-18': [{'description': 'Electrical Installation Condition Report', 'due_date': '2026-02-18', 'property_address': '123 Test Street', 'property_city': 'London', ...}, {'description': 'Energy Performance Certificate', 'due_date': '2026-02-18', 'property_address': '123 Test Street', 'property_city': 'London', ...}, {'description': 'Fire Alarm Inspection', 'due_date': '2026-02-18', 'property_address': '123 Test Street', 'property_city': 'London', ...}, {'description': 'Legionella Risk Assessment', 'due_date': '2026-02-18', 'property_address': '123 Test Street', 'property_city': 'London', ...}, {'description': 'Gas Safety Certificate', 'due_date': '2026-02-18', 'property_address': 'TEST_123 Enhanced Test Street', 'property_city': 'London', ...}, {'description': 'Fire Alarm Inspection', 'due_date': '2026-02-18', 'property_address': 'TEST_123 Enhanced Test Street', 'property_city': 'London', ...}, ...], '2026-02-19': [{'description': 'Gas Safety Certificate', 'due_date': '2026-02-19', 'property_address': '998 Import Test Ave', 'property_city': 'Manchester', ...}, {'description': 'Fire Alarm Inspection', 'due_date': '202...ment', 'due_date': '2026-03-20', 'property_address': 'TEST_123 Enhanced Test Street', 'property_city': 'London', ...}], '2026-03-21': [{'description': 'Electrical Installation Condition Report', 'due_date': '2026-03-21', 'property_address': '998 Import Test Ave', 'property_city': 'Manchester', ...}, {'description': 'Legionella Risk Assessment', 'due_date': '2026-03-21', 'property_address': '998 Import Test Ave', 'property_city': 'Manchester', ...}, {'description': 'Electrical Installation Condition Report', 'due_date': '2026-03-21', 'property_address': 'TEST_fe4fa6ef Single Import Street', 'property_city': 'London', ...}, {'description': 'Legionella Risk Assessment', 'due_date': '2026-03-21', 'property_address': 'TEST_fe4fa6ef Single Import Street', 'property_city': 'London', ...}, {'description': 'Electrical Installation Condition Report', 'due_date': '2026-03-21', 'property_address': 'TEST_0d503393 First Street', 'property_city': 'Manchester', ...}, {'description': 'Legionella Risk Assessment', 'due_date': '2026-03-21', 'property_address': 'TEST_0d503393 First Street', 'property_city': 'Manchester', ...}, ...], ...}, 'month': None, 'start_date': '2026-01-01T00:00:00+00:00', ...})">tests/test_e2e_deployment_readiness.py:421: in test_get_calendar_events
    assert "events" in data or "expiries" in data or "calendar" in data
E   AssertionError: assert ('events' in {'end_date': '2027-01-01T00:00:00+00:00', 'events_by_date': {'2026-02-18': [{'description': 'Electrical Installation Condition Report', 'due_date': '2026-02-18', 'property_address': '123 Test Street', 'property_city': 'London', ...}, {'description': 'Energy Performance Certificate', 'due_date': '2026-02-18', 'property_address': '123 Test Street', 'property_city': 'London', ...}, {'description': 'Fire Alarm Inspection', 'due_date': '2026-02-18', 'property_address': '123 Test Street', 'property_city': 'London', ...}, {'description': 'Legionella Risk Assessment', 'due_date': '2026-02-18', 'property_address': '123 Test Street', 'property_city': 'London', ...}, {'description': 'Gas Safety Certificate', 'due_date': '2026-02-18', 'property_address': 'TEST_123 Enhanced Test Street', 'property_city': 'London', ...}, {'description': 'Fire Alarm Inspection', 'due_date': '2026-02-18', 'property_address': 'TEST_123 Enhanced Test Street', 'property_city': 'London', ...}, ...], '2026-02-19': [{'description': 'Gas Safety Certificate', 'due_date': '2026-02-19', 'property_address': '998 Import Test Ave', 'property_city': 'Manchester', ...}, {'description': 'Fire Alarm Inspection', 'due_date': '202...ment', 'due_date': '2026-03-20', 'property_address': 'TEST_123 Enhanced Test Street', 'property_city': 'London', ...}], '2026-03-21': [{'description': 'Electrical Installation Condition Report', 'due_date': '2026-03-21', 'property_address': '998 Import Test Ave', 'property_city': 'Manchester', ...}, {'description': 'Legionella Risk Assessment', 'due_date': '2026-03-21', 'property_address': '998 Import Test Ave', 'property_city': 'Manchester', ...}, {'description': 'Electrical Installation Condition Report', 'due_date': '2026-03-21', 'property_address': 'TEST_fe4fa6ef Single Import Street', 'property_city': 'London', ...}, {'description': 'Legionella Risk Assessment', 'due_date': '2026-03-21', 'property_address': 'TEST_fe4fa6ef Single Import Street', 'property_city': 'London', ...}, {'description': 'Electrical Installation Condition Report', 'due_date': '2026-03-21', 'property_address': 'TEST_0d503393 First Street', 'property_city': 'Manchester', ...}, {'description': 'Legionella Risk Assessment', 'due_date': '2026-03-21', 'property_address': 'TEST_0d503393 First Street', 'property_city': 'Manchester', ...}, ...], ...}, 'month': None, 'start_date': '2026-01-01T00:00:00+00:00', ...} or 'expiries' in {'end_date': '2027-01-01T00:00:00+00:00', 'events_by_date': {'2026-02-18': [{'description': 'Electrical Installation Condition Report', 'due_date': '2026-02-18', 'property_address': '123 Test Street', 'property_city': 'London', ...}, {'description': 'Energy Performance Certificate', 'due_date': '2026-02-18', 'property_address': '123 Test Street', 'property_city': 'London', ...}, {'description': 'Fire Alarm Inspection', 'due_date': '2026-02-18', 'property_address': '123 Test Street', 'property_city': 'London', ...}, {'description': 'Legionella Risk Assessment', 'due_date': '2026-02-18', 'property_address': '123 Test Street', 'property_city': 'London', ...}, {'description': 'Gas Safety Certificate', 'due_date': '2026-02-18', 'property_address': 'TEST_123 Enhanced Test Street', 'property_city': 'London', ...}, {'description': 'Fire Alarm Inspection', 'due_date': '2026-02-18', 'property_address': 'TEST_123 Enhanced Test Street', 'property_city': 'London', ...}, ...], '2026-02-19': [{'description': 'Gas Safety Certificate', 'due_date': '2026-02-19', 'property_address': '998 Import Test Ave', 'property_city': 'Manchester', ...}, {'description': 'Fire Alarm Inspection', 'due_date': '202...ment', 'due_date': '2026-03-20', 'property_address': 'TEST_123 Enhanced Test Street', 'property_city': 'London', ...}], '2026-03-21': [{'description': 'Electrical Installation Condition Report', 'due_date': '2026-03-21', 'property_address': '998 Import Test Ave', 'property_city': 'Manchester', ...}, {'description': 'Legionella Risk Assessment', 'due_date': '2026-03-21', 'property_address': '998 Import Test Ave', 'property_city': 'Manchester', ...}, {'description': 'Electrical Installation Condition Report', 'due_date': '2026-03-21', 'property_address': 'TEST_fe4fa6ef Single Import Street', 'property_city': 'London', ...}, {'description': 'Legionella Risk Assessment', 'due_date': '2026-03-21', 'property_address': 'TEST_fe4fa6ef Single Import Street', 'property_city': 'London', ...}, {'description': 'Electrical Installation Condition Report', 'due_date': '2026-03-21', 'property_address': 'TEST_0d503393 First Street', 'property_city': 'Manchester', ...}, {'description': 'Legionella Risk Assessment', 'due_date': '2026-03-21', 'property_address': 'TEST_0d503393 First Street', 'property_city': 'Manchester', ...}, ...], ...}, 'month': None, 'start_date': '2026-01-01T00:00:00+00:00', ...} or 'calendar' in {'end_date': '2027-01-01T00:00:00+00:00', 'events_by_date': {'2026-02-18': [{'description': 'Electrical Installation Condition Report', 'due_date': '2026-02-18', 'property_address': '123 Test Street', 'property_city': 'London', ...}, {'description': 'Energy Performance Certificate', 'due_date': '2026-02-18', 'property_address': '123 Test Street', 'property_city': 'London', ...}, {'description': 'Fire Alarm Inspection', 'due_date': '2026-02-18', 'property_address': '123 Test Street', 'property_city': 'London', ...}, {'description': 'Legionella Risk Assessment', 'due_date': '2026-02-18', 'property_address': '123 Test Street', 'property_city': 'London', ...}, {'description': 'Gas Safety Certificate', 'due_date': '2026-02-18', 'property_address': 'TEST_123 Enhanced Test Street', 'property_city': 'London', ...}, {'description': 'Fire Alarm Inspection', 'due_date': '2026-02-18', 'property_address': 'TEST_123 Enhanced Test Street', 'property_city': 'London', ...}, ...], '2026-02-19': [{'description': 'Gas Safety Certificate', 'due_date': '2026-02-19', 'property_address': '998 Import Test Ave', 'property_city': 'Manchester', ...}, {'description': 'Fire Alarm Inspection', 'due_date': '202...ment', 'due_date': '2026-03-20', 'property_address': 'TEST_123 Enhanced Test Street', 'property_city': 'London', ...}], '2026-03-21': [{'description': 'Electrical Installation Condition Report', 'due_date': '2026-03-21', 'property_address': '998 Import Test Ave', 'property_city': 'Manchester', ...}, {'description': 'Legionella Risk Assessment', 'due_date': '2026-03-21', 'property_address': '998 Import Test Ave', 'property_city': 'Manchester', ...}, {'description': 'Electrical Installation Condition Report', 'due_date': '2026-03-21', 'property_address': 'TEST_fe4fa6ef Single Import Street', 'property_city': 'London', ...}, {'description': 'Legionella Risk Assessment', 'due_date': '2026-03-21', 'property_address': 'TEST_fe4fa6ef Single Import Street', 'property_city': 'London', ...}, {'description': 'Electrical Installation Condition Report', 'due_date': '2026-03-21', 'property_address': 'TEST_0d503393 First Street', 'property_city': 'Manchester', ...}, {'description': 'Legionella Risk Assessment', 'due_date': '2026-03-21', 'property_address': 'TEST_0d503393 First Street', 'property_city': 'Manchester', ...}, ...], ...}, 'month': None, 'start_date': '2026-01-01T00:00:00+00:00', ...})</failure></testcase><testcase classname="tests.test_e2e_deployment_readiness.TestDocumentsAPI" name="test_get_documents_list" time="0.291" /><testcase classname="tests.test_e2e_deployment_readiness.TestAuditLogsRecording" name="test_login_events_recorded" time="0.564" /><testcase classname="tests.test_e2e_deployment_readiness.TestAdminInvite" name="test_admin_invite_validation" time="0.296" /><testcase classname="tests.test_e2e_deployment_readiness.TestSetPasswordEndpoint" name="test_set_password_invalid_token" time="0.077" /><testcase classname="tests.test_e2e_deployment_readiness.TestRouteGuardLogging" name="test_log_route_guard_block" time="0.293" /></testsuite></testsuites>